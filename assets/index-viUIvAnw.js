import{j as e,C as S,a as F,b as P,c as M,B as p,R as N,X as z,u as Z}from"./index-C_eWIPTU.js";import{T as O,a as U,b as A,c as v,d as H,e as b,P as V,f as G,I as D,g as R,S as X,h as J,i as K,j as Q,k as W,l as Y}from"./switch-B_-xAAB6.js";import{u as _,t as ee,a as ie,D as te,b as se,c as re,d as ne,e as de,F as ae,f as h,g as f,h as u,i as j,j as q,T as oe,k as ce,o as E,s as T,l as le,m as me,n as ue}from"./textarea-BhKsh-6I.js";const t=()=>Math.random().toString(36).substr(2,9),C=[{id:t(),name:"createdAt",type:"date",required:!0,description:"Record creation timestamp"},{id:t(),name:"lastModified",type:"date",required:!0,description:"Last modification timestamp"}],$=[{id:t(),name:"claimId",type:"string",required:!0,description:"Unique identifier for the claim"},{id:t(),name:"memberId",type:"string",required:!0,description:"Member identifier"},{id:t(),name:"providerId",type:"string",required:!0,description:"Provider identifier"},{id:t(),name:"serviceDate",type:"date",required:!0,description:"Date of service"},{id:t(),name:"procedureCode",type:"string",required:!0,description:"Procedure code (CDT/CPT)"},{id:t(),name:"billedAmount",type:"decimal",required:!0,description:"Amount billed by provider"},{id:t(),name:"allowedAmount",type:"decimal",required:!0,description:"Allowed amount for the service"},{id:t(),name:"paidAmount",type:"decimal",required:!0,description:"Amount paid for the service"},{id:t(),name:"isAdjustment",type:"boolean",required:!1,description:"Indicates if this is a claim adjustment"}],pe=[{id:t(),name:"subscriberId",type:"string",required:!0,description:"Subscriber identifier"},{id:t(),name:"firstName",type:"string",required:!0,description:"Member first name"},{id:t(),name:"lastName",type:"string",required:!0,description:"Member last name"},{id:t(),name:"dateOfBirth",type:"date",required:!0,description:"Member date of birth"},{id:t(),name:"effectiveDate",type:"date",required:!0,description:"Coverage effective date"},{id:t(),name:"terminationDate",type:"date",required:!1,description:"Coverage termination date"},{id:t(),name:"planCode",type:"string",required:!0,description:"Dental plan code"},{id:t(),name:"groupNumber",type:"string",required:!0,description:"Group/employer number"}],B=[{id:t(),name:"npi",type:"string",required:!0,description:"National Provider Identifier"},{id:t(),name:"taxId",type:"string",required:!0,description:"Tax identification number"},{id:t(),name:"providerName",type:"string",required:!0,description:"Provider name"},{id:t(),name:"specialty",type:"string",required:!0,description:"Provider specialty"},{id:t(),name:"addressLine1",type:"string",required:!0,description:"Practice address line 1"},{id:t(),name:"city",type:"string",required:!0,description:"Practice city"},{id:t(),name:"state",type:"string",required:!0,description:"Practice state"},{id:t(),name:"zipCode",type:"string",required:!0,description:"Practice ZIP code"}],xe=[{id:t(),name:"Claims Extract v1.0",description:"Standard claims extract including payment and procedure information",status:"active",version:1,lastModified:"2024-01-15T08:00:00Z",fields:[...$,...C]},{id:t(),name:"Claims Extract v2.0",description:"Enhanced claims extract with additional payment details",status:"draft",version:2,lastModified:"2024-02-20T10:30:00Z",fields:[...$,{id:t(),name:"networkStatus",type:"string",required:!0,description:"Provider network status"},...C]},{id:t(),name:"Eligibility Basic",description:"Basic member eligibility information",status:"active",version:1,lastModified:"2024-01-10T14:15:00Z",fields:[...pe,...C]},{id:t(),name:"Provider Directory",description:"Complete provider information for directory purposes",status:"active",version:1,lastModified:"2024-01-05T11:20:00Z",fields:[...B,...C]},{id:t(),name:"Provider Network",description:"Provider network and contracting information",status:"pending",version:1,lastModified:"2024-02-28T09:45:00Z",fields:[...B,{id:t(),name:"contractEffectiveDate",type:"date",required:!0,description:"Contract effective date"},{id:t(),name:"contractTerminationDate",type:"date",required:!1,description:"Contract termination date"},{id:t(),name:"networkTier",type:"string",required:!0,description:"Provider network tier"},...C]}];function he({layouts:a}){return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(S,{children:[e.jsx(F,{children:e.jsx(P,{children:"Active Layouts"})}),e.jsx(M,{children:e.jsx("div",{className:"text-3xl font-bold",children:a.filter(d=>d.status==="active").length})})]}),e.jsxs(S,{children:[e.jsx(F,{children:e.jsx(P,{children:"Pending Review"})}),e.jsx(M,{children:e.jsx("div",{className:"text-3xl font-bold",children:a.filter(d=>d.status==="pending").length})})]}),e.jsxs(S,{children:[e.jsx(F,{children:e.jsx(P,{children:"Draft Layouts"})}),e.jsx(M,{children:e.jsx("div",{className:"text-3xl font-bold",children:a.filter(d=>d.status==="draft").length})})]})]})}function fe({layouts:a,onEdit:d,onDelete:y}){return e.jsxs(S,{children:[e.jsx(F,{children:e.jsx(P,{children:"Layout List"})}),e.jsx(M,{children:a.length===0?e.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No layouts found. Create your first layout to get started."}):e.jsxs(O,{children:[e.jsx(U,{children:e.jsxs(A,{children:[e.jsx(v,{children:"Name"}),e.jsx(v,{children:"Version"}),e.jsx(v,{children:"Status"}),e.jsx(v,{children:"Last Modified"}),e.jsx(v,{children:"Actions"})]})}),e.jsx(H,{children:a.map(i=>e.jsxs(A,{children:[e.jsx(b,{className:"font-medium",children:i.name}),e.jsxs(b,{children:["v",i.version]}),e.jsx(b,{children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium
                      ${i.status==="active"?"bg-green-100 text-green-800":i.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:i.status.charAt(0).toUpperCase()+i.status.slice(1)})}),e.jsx(b,{children:new Date(i.lastModified).toLocaleDateString()}),e.jsx(b,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>d(i),children:e.jsx(V,{className:"h-4 w-4"})}),e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>y(i),children:e.jsx(G,{className:"h-4 w-4"})})]})})]},i.id))})]})})]})}const je=[{value:"string",label:"String"},{value:"number",label:"Number"},{value:"date",label:"Date"},{value:"boolean",label:"Boolean"},{value:"decimal",label:"Decimal"}],ye=E({name:T().min(2,"Name must be at least 2 characters"),description:T().min(10,"Description must be at least 10 characters"),fields:le(E({name:T().min(1,"Field name is required"),type:me(["string","number","date","boolean","decimal"]),required:ue(),description:T().min(1,"Description is required")})).min(1,"At least one field is required")});function ge({open:a,onOpenChange:d,onSubmit:y,initialData:i}){var w;N.useEffect(()=>{console.log("Initial Data in Form:",i)},[i]);const r=_({resolver:ee(ye),defaultValues:{name:(i==null?void 0:i.name)||"",description:(i==null?void 0:i.description)||"",fields:((w=i==null?void 0:i.fields)==null?void 0:w.map(n=>({name:n.name,type:n.type,required:n.required,description:n.description})))||[{name:"",type:"string",required:!1,description:""}]}});N.useEffect(()=>{i&&r.reset({name:i.name,description:i.description,fields:i.fields.map(n=>({name:n.name,type:n.type,required:n.required,description:n.description}))})},[i,r.reset]);const{fields:x,append:g,remove:k}=ie({name:"fields",control:r.control}),L=n=>{y(n)};return e.jsx(te,{open:a,onOpenChange:d,children:e.jsxs(se,{className:"sm:max-w-2xl h-[calc(100vh-40px)] flex flex-col gap-0 p-0",children:[e.jsx("div",{className:"px-6 py-4 border-b",children:e.jsxs(re,{children:[e.jsx(ne,{children:i?"Edit Layout":"Create New Layout"}),e.jsx(de,{children:i?"Modify the structure and fields for your data extract layout.":"Define the structure and fields for your data extract layout."})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(ae,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(L),className:"space-y-6 p-6",children:[e.jsx(h,{control:r.control,name:"name",render:({field:n})=>e.jsxs(f,{children:[e.jsx(u,{children:"Layout Name"}),e.jsx(j,{children:e.jsx(D,{...n})}),e.jsx(q,{})]})}),e.jsx(h,{control:r.control,name:"description",render:({field:n})=>e.jsxs(f,{children:[e.jsx(u,{children:"Description"}),e.jsx(j,{children:e.jsx(oe,{...n})}),e.jsx(q,{})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(u,{children:"Fields"}),e.jsxs(p,{type:"button",variant:"outline",size:"sm",onClick:()=>g({name:"",type:"string",required:!1,description:""}),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Add Field"]})]}),x.map((n,l)=>e.jsxs("div",{className:"flex gap-4 items-start p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(h,{control:r.control,name:`fields.${l}.name`,render:({field:s})=>e.jsxs(f,{children:[e.jsx(u,{children:"Field Name"}),e.jsx(j,{children:e.jsx(D,{...s})}),e.jsx(q,{})]})}),e.jsx(h,{control:r.control,name:`fields.${l}.type`,render:({field:s})=>e.jsxs(f,{children:[e.jsx(u,{children:"Type"}),e.jsxs(X,{value:s.value,onValueChange:s.onChange,children:[e.jsx(j,{children:e.jsx(J,{children:e.jsx(K,{})})}),e.jsx(Q,{children:je.map(o=>e.jsx(W,{value:o.value,children:o.label},o.value))})]}),e.jsx(q,{})]})})]}),e.jsx(h,{control:r.control,name:`fields.${l}.required`,render:({field:s})=>e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(j,{children:e.jsx(Y,{checked:s.value,onCheckedChange:s.onChange})}),e.jsx(u,{children:"Required Field"})]})}),e.jsx(h,{control:r.control,name:`fields.${l}.description`,render:({field:s})=>e.jsxs(f,{children:[e.jsx(u,{children:"Description"}),e.jsx(j,{children:e.jsx(D,{...s})}),e.jsx(q,{})]})})]}),e.jsx(p,{type:"button",variant:"ghost",size:"sm",onClick:()=>k(l),disabled:x.length===1,children:e.jsx(z,{className:"h-4 w-4"})})]},n.id))]})]})})}),e.jsx("div",{className:"border-t p-4",children:e.jsxs(ce,{children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(p,{onClick:r.handleSubmit(L),children:i?"Update Layout":"Create Layout"})]})})]})})}function Ce(){const[a,d]=N.useState(xe),[y,i]=N.useState(!1),[r,x]=N.useState(null),{toast:g}=Z(),k=s=>{const o={id:`layout-${Date.now()}`,name:s.name,description:s.description,status:"draft",version:1,lastModified:new Date().toISOString(),fields:s.fields.map((c,m)=>({id:`field-${Date.now()}-${m}`,...c}))};d(c=>[...c,o]),i(!1),g({title:"Layout Created",description:"New layout has been created successfully."})},L=s=>{x(s),i(!0)},w=s=>{if(!r)return;const o={...r,name:s.name,description:s.description,lastModified:new Date().toISOString(),fields:s.fields.map((c,m)=>{var I;return{id:((I=r.fields[m])==null?void 0:I.id)||`field-${Date.now()}-${m}`,...c}})};d(c=>c.map(m=>m.id===r.id?o:m)),i(!1),x(null),g({title:"Layout Updated",description:"Layout has been updated successfully."})},n=s=>{d(o=>o.filter(c=>c.id!==s.id)),g({title:"Layout Deleted",description:"Layout has been deleted successfully.",variant:"destructive"})},l=()=>{i(!1),x(null)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Layout Manager"}),e.jsxs(p,{onClick:()=>i(!0),className:"flex items-center gap-2",children:[e.jsx(R,{size:16}),"New Layout"]})]}),e.jsx(he,{layouts:a}),e.jsx(fe,{layouts:a,onEdit:L,onDelete:n}),e.jsx(ge,{open:y,onOpenChange:l,onSubmit:r?w:k,initialData:r||void 0})]})}export{ge as LayoutFormDialog,fe as LayoutList,Ce as LayoutManager,he as LayoutStats};
